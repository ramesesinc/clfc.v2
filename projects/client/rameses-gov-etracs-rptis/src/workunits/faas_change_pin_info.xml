<?xml version="1.0" encoding="UTF-8"?>
<workunit>
    <invokers>
        <invoker type="faas:changeinfo" action="init" 
            caption="Property Info and Boundaries" target="popup"  
            role="ADMIN" permission="faas.change_property_info" index="1" />
        
        <invoker type="formActions" action="_close" caption="Cancel" mnemonic="c" immediate="true" />
        <invoker type="formActions" action="save" caption="Save" mnemonic="s" />
   </invokers>
   <code>       
<![CDATA[

import com.rameses.rcp.annotations.* 
import com.rameses.rcp.common.* 
import com.rameses.osiris2.client.*
import com.rameses.osiris2.common.*
import com.rameses.gov.etracs.rpt.faas.change.ui.*;


public class ChangePropertyInfoController extends ChangeFaasInfoController
{
    String title = 'Modify Property Information';
    
    
    public def getAction(){
        return 'change_property_info';
    }
    
    
    public def getModifiedEntity(){
        return [
            cadastrallotno : entity.rp.cadastrallotno,
            surveyno	: entity.rp.surveyno,
            blockno 	: entity.rp.blockno,
            street 	: entity.rp.street,
            purok	: entity.rp.purok,
            north 	: entity.rp.north,
            east 	: entity.rp.east,
            south 	: entity.rp.south,
            west 	: entity.rp.west
        ]
    }
    
    public void updateEntityInfo(newinfo){
        entity.rp.cadastrallotno  = newinfo.cadastrallotno;
        entity.rp.surveyno  = newinfo.surveyno;
        entity.rp.blockno   = newinfo.blockno;
        entity.rp.street    = newinfo.street;
        entity.rp.purok     = newinfo.purok;
        entity.rp.north     = newinfo.north;
        entity.rp.east      = newinfo.east;
        entity.rp.south     = newinfo.south;
        entity.rp.west      = newinfo.west;
    }
}
       
]]>       
    </code>

    <pages> 
        <page template="com.rameses.gov.etracs.rpt.faas.change.ui.ChangePropertyInfoPage"/>
    </pages>
</workunit>


